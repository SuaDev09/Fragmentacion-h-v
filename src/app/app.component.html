<div class="main-container">
  <p-dialog header="Header" [(visible)]="showModal" [style]="{ width: '50vw' }">
    <p>{{ queryBuilded }}</p>
    <ng-template pTemplate="footer">
      <p-button
        icon="pi pi-check"
        (click)="showModal = false"
        label="Ok"
        styleClass="p-button-text"
      ></p-button>
    </ng-template>
  </p-dialog>

  <h1>Fragmentaci√≥n de Datos</h1>

  <div class="top__buttons">
    <div class="top__buttons__left">
      <p-button label="Frag. Horizontal"></p-button>
      <p-button label="Frag. Vertical"></p-button>
    </div>
    <div class="top__button_right">
      <p-button
        styleClass="p-button-outlined"
        label="Reiniciar filtros"
        (onClick)="resetData()"
      ></p-button>
    </div>
  </div>
  <div class="table__container">
    <p-table [value]="(users | async)!">
      <ng-template pTemplate="header">
        <tr>
          <th *ngFor="let column of columns">{{ column.header }}</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-usuario>
        <tr>
          <td *ngFor="let column of columns">{{ usuario[column.field] }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>

  <div class="filters__container">
    <div class="f__c__checkbox__group">
      <h3>Fragmento:</h3>
      <form [formGroup]="formGroup">
        <p-listbox
          [options]="fragmentTypes"
          formControlName="fragmentGroup"
          optionLabel="name"
        ></p-listbox>
      </form>
    </div>
    <div class="f__c__checkbox__group">
      <h3>Condicion:</h3>
      <form [formGroup]="formGroup">
        <p-listbox
          [options]="conditionTypes"
          formControlName="conditionGroup"
          optionLabel="name"
        ></p-listbox>
      </form>
    </div>

    <div class="f__c__input">
      <input
        type="text"
        pInputText
        [(ngModel)]="inputCondition"
        placeholder="Valor de la condicion"
      />
      <button pButton label="Actualizar" (click)="updateTable()"></button>
    </div>
  </div>
</div>

<div class="table__container">
  <p-table [value]="(cars | async)!">
    <ng-template pTemplate="header">
      <tr>
        <th *ngFor="let column of columnsCars">{{ column.header }}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-car>
      <tr>
        <td *ngFor="let column of columnsCars">{{ car[column.field] }}</td>
      </tr>
    </ng-template>
  </p-table>
</div>
